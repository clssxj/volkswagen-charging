# é™æ€æ•°æ®é€»è¾‘è¯´æ˜Ž

## ðŸŽ¯ æ ¸å¿ƒè®¾è®¡åŽŸåˆ™

å……ç”µæ¡©æ˜¯**å®¢è§‚å­˜åœ¨çš„ç‰©ç†è®¾æ–½**ï¼Œå› æ­¤æ•°æ®åº”è¯¥å…·æœ‰ä»¥ä¸‹ç‰¹æ€§ï¼š

âœ… **ä½ç½®å›ºå®š**ï¼šå……ç”µæ¡©çš„ç»çº¬åº¦åæ ‡ä¸ä¼šå˜åŒ–  
âœ… **åç§°å›ºå®š**ï¼šå……ç”µç«™åç§°å’Œåœ°å€ä¸ä¼šå˜åŒ–  
âœ… **æ€»æ•°å›ºå®š**ï¼šæ¯ä¸ªç«™ç‚¹çš„å……ç”µæ¡©æ€»æ•°ä¸ä¼šå˜åŒ–  
âœ… **æ•°é‡åŠ¨æ€**ï¼šç©ºé—²æ¡©æ•°ä¼šéšä½¿ç”¨æƒ…å†µå˜åŒ–  
âœ… **ä»·æ ¼åŠ¨æ€**ï¼šç”µä»·ä¼šæ ¹æ®æ—¶æ®µå˜åŒ–ï¼ˆå³°è°·ç”µä»·ï¼‰  

---

## ðŸ“Š æ•°æ®ç»“æž„

### é™æ€æ•°æ®ï¼ˆä¸å˜ï¼‰

```javascript
{
  id: "hefei_station_1",          // å›ºå®šID
  name: "åˆè‚¥å•†åœºä¸­å¿ƒå……ç”µç«™",      // å›ºå®šåç§°
  lat: 31.856234,                  // å›ºå®šçº¬åº¦
  lng: 117.265123,                 // å›ºå®šç»åº¦
  address: "åˆè‚¥å¸‚èœ€å±±åŒºé‡‘å¯¨è·¯123å·", // å›ºå®šåœ°å€
  totalCount: 12,                  // å›ºå®šï¼šæ€»å……ç”µæ¡©æ•°
  hasAC: true,                     // å›ºå®šï¼šæ˜¯å¦æœ‰äº¤æµæ¡©
  hasDC: true,                     // å›ºå®šï¼šæ˜¯å¦æœ‰ç›´æµæ¡©
  maxPower: 120,                   // å›ºå®šï¼šæœ€å¤§åŠŸçŽ‡
  basePricePerKWh: 1.50,          // å›ºå®šï¼šåŸºç¡€ç”µä»·
  serviceFee: 0.70,                // å›ºå®šï¼šæœåŠ¡è´¹
  operatorId: 1                    // å›ºå®šï¼šè¿è¥å•†
}
```

### åŠ¨æ€æ•°æ®ï¼ˆä¼šå˜åŒ–ï¼‰

```javascript
{
  availableCount: 8,               // åŠ¨æ€ï¼šç©ºé—²æ¡©æ•°ï¼ˆ10-15åˆ†é’Ÿå˜åŒ–ä¸€æ¬¡ï¼‰
  chargingCount: 3,                // åŠ¨æ€ï¼šå……ç”µä¸­æ•°é‡
  offlineCount: 1,                 // åŠ¨æ€ï¼šç¦»çº¿æ•°é‡
  status: "available",             // åŠ¨æ€ï¼šæ•´ä½“çŠ¶æ€
  pricePerKWh: 1.65,              // åŠ¨æ€ï¼šå½“å‰ç”µä»·ï¼ˆæ¯å°æ—¶å˜åŒ–ï¼‰
  _lastAvailableUpdate: 1697520000, // å†…éƒ¨ï¼šä¸Šæ¬¡æ•°é‡æ›´æ–°æ—¶é—´
  _lastPriceUpdate: 1697520000      // å†…éƒ¨ï¼šä¸Šæ¬¡ä»·æ ¼æ›´æ–°æ—¶é—´
}
```

---

## ðŸ—ºï¸ æ•°æ®ç”Ÿæˆç­–ç•¥

### ä¸€æ¬¡æ€§ç”Ÿæˆï¼ˆåº”ç”¨å¯åŠ¨æ—¶ï¼‰

```javascript
åº”ç”¨å¯åŠ¨
    â†“
è°ƒç”¨ generateHefeiStations()
    â†“
ç”Ÿæˆåˆè‚¥å¸‚2000ä¸ªå›ºå®šå……ç”µç«™
    â†“
å­˜å‚¨åœ¨ mockStationData.stations
    â†“
åŽç»­åªä»Žè¿™ä¸ªæ•°ç»„è¯»å–/è¿‡æ»¤ï¼Œä¸å†ç”Ÿæˆ
```

### åŒºåŸŸåˆ†å¸ƒ

| åŒºåŸŸ | å……ç”µç«™æ•°é‡ | ä¸­å¿ƒåæ ‡ | åˆ†å¸ƒåŠå¾„ |
|------|-----------|---------|---------|
| èœ€å±±åŒº | 400 | (31.85, 117.26) | 5km |
| åºé˜³åŒº | 300 | (31.88, 117.27) | 5km |
| ç‘¶æµ·åŒº | 300 | (31.86, 117.32) | 5km |
| åŒ…æ²³åŒº | 400 | (31.78, 117.31) | 5km |
| é«˜æ–°åŒº | 200 | (31.84, 117.17) | 5km |
| ç»å¼€åŒº | 200 | (31.77, 117.22) | 5km |
| æ–°ç«™åŒº | 100 | (31.92, 117.30) | 5km |
| æ»¨æ¹–æ–°åŒº | 100 | (31.72, 117.28) | 5km |
| **æ€»è®¡** | **2000** | - | - |

---

## â° æ›´æ–°æœºåˆ¶

### 1. å……ç”µæ¡©æ•°é‡æ›´æ–°ï¼ˆæ¯10-15åˆ†é’Ÿï¼‰

```javascript
è§¦å‘æ—¶æœºï¼š10-15åˆ†é’Ÿéšæœºé—´éš”

æ›´æ–°é€»è¾‘ï¼š
1. éåŽ†æ‰€æœ‰å……ç”µç«™
2. æ£€æŸ¥ä¸Šæ¬¡æ›´æ–°æ—¶é—´
3. å¦‚æžœé—´éš” >= 10-15åˆ†é’Ÿï¼š
   - éšæœºå˜åŒ–ï¼š-3 åˆ° +3
   - availableCount += change
   - é™åˆ¶èŒƒå›´ï¼š0 åˆ° totalCount
   - é‡æ–°è®¡ç®— chargingCount
   - æ›´æ–°çŠ¶æ€ï¼ˆavailable/busy/offlineï¼‰
   - è®°å½•æ›´æ–°æ—¶é—´
4. é€šè¿‡WebSocketæŽ¨é€æ›´æ–°
```

**å˜åŒ–è§„åˆ™**ï¼š
```javascript
const change = Math.floor(Math.random() * 7) - 3 // -3, -2, -1, 0, 1, 2, 3

æ–°ç©ºé—²æ•° = å½“å‰ç©ºé—²æ•° + change
æ–°ç©ºé—²æ•° = Math.max(0, Math.min(totalCount, æ–°ç©ºé—²æ•°))
```

### 2. ä»·æ ¼æ›´æ–°ï¼ˆæ¯å°æ—¶ï¼‰

```javascript
è§¦å‘æ—¶æœºï¼šæ•´ç‚¹æ—¶åˆ»

ä»·æ ¼å€çŽ‡ï¼ˆæ ¹æ®æ—¶æ®µï¼‰ï¼š
- 00:00-06:00 â†’ 0.7å€ï¼ˆæ·±å¤œä½Žè°·ï¼‰
- 06:00-08:00 â†’ 1.0å€ï¼ˆå¹³æ—¶æ®µï¼‰
- 08:00-11:00 â†’ 1.5å€ï¼ˆæ—©é«˜å³°ï¼‰
- 11:00-17:00 â†’ 1.0å€ï¼ˆå¹³æ—¶æ®µï¼‰
- 17:00-22:00 â†’ 1.6å€ï¼ˆæ™šé«˜å³°ï¼‰
- 22:00-24:00 â†’ 1.0å€ï¼ˆå¹³æ—¶æ®µï¼‰

è®¡ç®—å…¬å¼ï¼š
å½“å‰ä»·æ ¼ = åŸºç¡€ä»·æ ¼ Ã— æ—¶æ®µå€çŽ‡

ç¤ºä¾‹ï¼š
åŸºç¡€ä»·æ ¼ 1.50å…ƒ/åº¦
- æ·±å¤œ(3ç‚¹)ï¼š1.50 Ã— 0.7 = 1.05å…ƒ/åº¦
- æ—©é«˜å³°(9ç‚¹)ï¼š1.50 Ã— 1.5 = 2.25å…ƒ/åº¦
- æ™šé«˜å³°(19ç‚¹)ï¼š1.50 Ã— 1.6 = 2.40å…ƒ/åº¦
```

---

## ðŸ”„ å®žæ—¶æ›´æ–°æµç¨‹

### WebSocketæŽ¨é€

```
WebSocketå®šæ—¶å™¨
    â†“
æ¯10-15åˆ†é’Ÿ
    â†“
è°ƒç”¨ updateStationAvailability()
    â†“
è¿”å›žæœ‰å˜åŒ–çš„å……ç”µç«™åˆ—è¡¨
    â†“
æŽ¨é€ 'station_status_update' äº‹ä»¶
    â†“
å‰ç«¯æŽ¥æ”¶ â†’ Storeæ›´æ–° â†’ ç»„ä»¶é‡æ–°æ¸²æŸ“
    â†“
æ ‡è®°é¢œè‰²å¹³æ»‘è¿‡æ¸¡ï¼ˆ0.5såŠ¨ç”»ï¼‰
```

```
WebSocketå®šæ—¶å™¨
    â†“
æ¯å°æ—¶
    â†“
è°ƒç”¨ updateStationPrices()
    â†“
æ›´æ–°æ‰€æœ‰å……ç”µç«™ä»·æ ¼
    â†“
æŽ¨é€ 'price_update' äº‹ä»¶
    â†“
å‰ç«¯æŽ¥æ”¶ â†’ é‡æ–°åŠ è½½æ•°æ® â†’ æ›´æ–°æ ‡è®°
```

---

## ðŸŽ¨ åœ°å›¾ç¼©æ”¾é€»è¾‘

### ç¼©æ”¾æ—¶çš„è¡Œä¸º

```javascript
ç”¨æˆ·ç¼©æ”¾åœ°å›¾
    â†“
è§¦å‘ 'zoomend' äº‹ä»¶
    â†“
è°ƒç”¨ handleMapMove()
    â†“
æ›´æ–°åœ°å›¾è¾¹ç•Œä¿¡æ¯ï¼ˆä¸é‡æ–°è¯·æ±‚æ•°æ®ï¼‰
    â†“
è°ƒç”¨ updateMarkers()
    â†“
æ ¹æ®ç¼©æ”¾çº§åˆ«å†³å®šï¼šèšåˆæ˜¾ç¤º or ç›´æŽ¥æ˜¾ç¤º
    â†“
é‡æ–°æ¸²æŸ“æ ‡è®°ï¼ˆä½¿ç”¨å·²æœ‰æ•°æ®ï¼Œä¸é‡æ–°ç”Ÿæˆï¼‰
```

**å…³é”®ç‚¹**ï¼š
- âœ… ä½¿ç”¨å·²æœ‰çš„å……ç”µç«™æ•°æ®
- âœ… åªæ”¹å˜æ˜¾ç¤ºæ–¹å¼ï¼ˆèšåˆ/éžèšåˆï¼‰
- âœ… æ•°æ®æœ¬èº«ä¸å˜åŒ–
- âœ… æ ‡è®°å†…å®¹ä¸å˜åŒ–ï¼ˆé™¤éžæ”¶åˆ°WebSocketæ›´æ–°ï¼‰

---

## ðŸ“ åœ°å›¾æ‹–åŠ¨é€»è¾‘

### æ‹–åŠ¨æ—¶çš„è¡Œä¸º

```javascript
ç”¨æˆ·æ‹–åŠ¨åœ°å›¾
    â†“
è§¦å‘ 'moveend' äº‹ä»¶
    â†“
é˜²æŠ–å¤„ç†ï¼ˆå»¶è¿Ÿ500msï¼‰
    â†“
èŽ·å–æ–°çš„åœ°å›¾è¾¹ç•Œ
    â†“
è°ƒç”¨ fetchStations(bounds)
    â†“
ä»Žå›ºå®šçš„2000ä¸ªå……ç”µç«™ä¸­è¿‡æ»¤
    â†“
è¿”å›žè¾¹ç•Œå†…çš„å……ç”µç«™
    â†“
æ›´æ–°æ ‡è®°æ˜¾ç¤º
```

**å…³é”®ç‚¹**ï¼š
- âœ… ä»Žå›ºå®šçš„2000ä¸ªæ•°æ®ä¸­è¿‡æ»¤
- âœ… ä¸é‡æ–°ç”Ÿæˆæ•°æ®
- âœ… è¾¹ç•Œå¤–çš„å……ç”µç«™ä¸æ˜¾ç¤º
- âœ… è¾¹ç•Œå†…çš„å……ç”µç«™æ˜¾ç¤ºå‡ºæ¥

---

## ðŸ” æ•°æ®è¿‡æ»¤é€»è¾‘

### APIè°ƒç”¨

```javascript
// src/api/station.js

async getStations(params) {
  // ä½¿ç”¨å›ºå®šçš„2000ä¸ªå……ç”µç«™
  let stations = mockStationData.stations
  
  // æ ¹æ®è¾¹ç•Œè¿‡æ»¤ï¼ˆä¸é‡æ–°ç”Ÿæˆï¼‰
  if (params.minLat && params.maxLat && params.minLng && params.maxLng) {
    stations = stations.filter(station => 
      station.lat >= params.minLat &&
      station.lat <= params.maxLat &&
      station.lng >= params.minLng &&
      station.lng <= params.maxLng
    )
  }
  
  return stations
}
```

**ç¤ºä¾‹**ï¼š
- åœ°å›¾æ˜¾ç¤ºèœ€å±±åŒº â†’ è¿”å›žçº¦400ä¸ªå……ç”µç«™
- åœ°å›¾æ˜¾ç¤ºåŒ…æ²³åŒº â†’ è¿”å›žçº¦400ä¸ªå……ç”µç«™
- åœ°å›¾æ˜¾ç¤ºæ•´ä¸ªåˆè‚¥ â†’ è¿”å›žçº¦2000ä¸ªå……ç”µç«™
- åœ°å›¾æ˜¾ç¤ºå…¶ä»–åŸŽå¸‚ â†’ è¿”å›ž0ä¸ªå……ç”µç«™ï¼ˆå› ä¸ºåªæœ‰åˆè‚¥çš„æ•°æ®ï¼‰

---

## âš™ï¸ é…ç½®å‚æ•°

### æ›´æ–°é¢‘çŽ‡

```javascript
// å¯ç”¨æ•°é‡æ›´æ–°
const availabilityUpdateInterval = (10 + Math.random() * 5) * 60 * 1000
// 10-15åˆ†é’Ÿï¼Œéšæœº

// ä»·æ ¼æ›´æ–°
const priceUpdateInterval = 60 * 60 * 1000
// å›ºå®š1å°æ—¶
```

### æ•°é‡å˜åŒ–èŒƒå›´

```javascript
const change = Math.floor(Math.random() * 7) - 3
// å˜åŒ–èŒƒå›´ï¼š-3, -2, -1, 0, 1, 2, 3
```

### ä»·æ ¼å€çŽ‡

```javascript
// å³°è°·ç”µä»·å€çŽ‡
æ·±å¤œä½Žè°· (0-6ç‚¹)    â†’ 0.7å€
å¹³æ—¶æ®µ (6-8ç‚¹)      â†’ 1.0å€
æ—©é«˜å³° (8-11ç‚¹)     â†’ 1.5å€
å¹³æ—¶æ®µ (11-17ç‚¹)    â†’ 1.0å€
æ™šé«˜å³° (17-22ç‚¹)    â†’ 1.6å€
å¹³æ—¶æ®µ (22-24ç‚¹)    â†’ 1.0å€
```

---

## ðŸ“ æŽ§åˆ¶å°è¾“å‡º

### å¯åŠ¨æ—¶

```
å·²ç”Ÿæˆåˆè‚¥å¸‚ 2000 ä¸ªå›ºå®šå……ç”µç«™
å¯åŠ¨Mockæ¨¡å¼ï¼šå……ç”µæ¡©çŠ¶æ€å’Œä»·æ ¼è‡ªåŠ¨æ›´æ–°
ä»·æ ¼å·²æ ¹æ®æ—¶æ®µæ›´æ–°
ä¸‹æ¬¡å……ç”µæ¡©æ•°é‡æ›´æ–°å°†åœ¨ 12 åˆ†é’ŸåŽ
```

### è¿è¡Œæ—¶

```
// æ¯10-15åˆ†é’Ÿ
æŽ¨é€ 85 ä¸ªå……ç”µç«™çš„æ•°é‡æ›´æ–°
ä¸‹æ¬¡å……ç”µæ¡©æ•°é‡æ›´æ–°å°†åœ¨ 14 åˆ†é’ŸåŽ

// æ¯å°æ—¶
ä»·æ ¼å·²æ ¹æ®æ—¶æ®µæ›´æ–°
ä»·æ ¼å·²æ›´æ–°ï¼Œé‡æ–°åŠ è½½å……ç”µç«™æ•°æ®
```

### ç¼©æ”¾/æ‹–åŠ¨æ—¶

```
// åªæ˜¯è¿‡æ»¤ï¼Œä¸é‡æ–°ç”Ÿæˆ
è¿”å›ž 234 ä¸ªå……ç”µç«™æ•°æ®ï¼ˆè¾¹ç•Œè¿‡æ»¤ï¼‰
å·²åŠ è½½ 234 ä¸ªå……ç”µç«™æ ‡è®°ï¼ˆèšåˆæ¨¡å¼ï¼‰
```

---

## âœ… è§£å†³çš„é—®é¢˜

### é—®é¢˜1ï¼šæ¯æ¬¡ç¼©æ”¾éƒ½é‡æ–°ç”Ÿæˆæ•°æ® âŒ

**æ—§é€»è¾‘**ï¼š
```
ç¼©æ”¾åœ°å›¾ â†’ èŽ·å–è¾¹ç•Œ â†’ åŠ¨æ€ç”Ÿæˆæ–°æ•°æ® â†’ æ•°æ®è·³åŠ¨
```

**æ–°é€»è¾‘**ï¼š
```
ç¼©æ”¾åœ°å›¾ â†’ èŽ·å–è¾¹ç•Œ â†’ ä»Žå›ºå®šæ•°æ®è¿‡æ»¤ â†’ æ•°æ®ç¨³å®š âœ“
```

### é—®é¢˜2ï¼šå……ç”µæ¡©ä½ç½®éšæœºè·³åŠ¨ âŒ

**æ—§é€»è¾‘**ï¼š
```
æ¯æ¬¡è¯·æ±‚éƒ½éšæœºç”Ÿæˆåæ ‡ â†’ ä½ç½®ä¸å›ºå®š
```

**æ–°é€»è¾‘**ï¼š
```
å¯åŠ¨æ—¶ç”Ÿæˆä¸€æ¬¡ â†’ åæ ‡å›ºå®š â†’ æ°¸ä¸å˜åŒ– âœ“
```

### é—®é¢˜3ï¼šæ›´æ–°é¢‘çŽ‡è¿‡é«˜ âŒ

**æ—§é€»è¾‘**ï¼š
```
æ¯5-10ç§’æŽ¨é€æ›´æ–° â†’ å¤ªé¢‘ç¹ï¼Œä¸çœŸå®ž
```

**æ–°é€»è¾‘**ï¼š
```
æ¯10-15åˆ†é’ŸæŽ¨é€æ•°é‡æ›´æ–° â†’ ç¬¦åˆå®žé™… âœ“
æ¯1å°æ—¶æ›´æ–°ä»·æ ¼ â†’ å³°è°·ç”µä»· âœ“
```

---

## ðŸ§ª æµ‹è¯•éªŒè¯

### 1. å¯åŠ¨åº”ç”¨

```bash
npm run dev
```

è®¿é—®ï¼šhttps://localhost:3000

### 2. è§‚å¯ŸæŽ§åˆ¶å°

åº”è¯¥çœ‹åˆ°ï¼š
```
âœ“ å·²ç”Ÿæˆåˆè‚¥å¸‚ 2000 ä¸ªå›ºå®šå……ç”µç«™
âœ“ å¯åŠ¨Mockæ¨¡å¼ï¼šå……ç”µæ¡©çŠ¶æ€å’Œä»·æ ¼è‡ªåŠ¨æ›´æ–°
âœ“ ä»·æ ¼å·²æ ¹æ®æ—¶æ®µæ›´æ–°
```

### 3. æŸ¥çœ‹åœ°å›¾

- âœ… åœ°å›¾ä¸­å¿ƒï¼šåˆè‚¥å¸‚
- âœ… æ˜¾ç¤ºå……ç”µç«™æ ‡è®°
- âœ… æ ‡è®°é¢œè‰²ï¼šç»¿/é»„/çº¢/ç°
- âœ… æ ‡è®°å†…å®¹ï¼šå›¾æ ‡+ä»·æ ¼+ç©ºé—²æ•°

### 4. ç¼©æ”¾åœ°å›¾

**æ“ä½œ**ï¼šåŒæŒ‡ç¼©æ”¾æˆ–ç‚¹å‡»+/-æŒ‰é’®

**é¢„æœŸ**ï¼š
- âœ… æ ‡è®°ä½ç½®ä¸å˜
- âœ… æ ‡è®°å†…å®¹ä¸å˜
- âœ… åªæ”¹å˜æ˜¾ç¤ºæ–¹å¼ï¼ˆèšåˆâ†”å•ç‹¬ï¼‰
- âœ… æŽ§åˆ¶å°ä¸æ˜¾ç¤º"åŠ¨æ€ç”Ÿæˆ"

### 5. æ‹–åŠ¨åœ°å›¾

**æ“ä½œ**ï¼šæ‹–åŠ¨åˆ°ä¸åŒåŒºåŸŸ

**é¢„æœŸ**ï¼š
- âœ… æ˜¾ç¤ºè¯¥åŒºåŸŸçš„å……ç”µç«™
- âœ… ç¦»å¼€åŒºåŸŸçš„å……ç”µç«™æ¶ˆå¤±
- âœ… å†æ‹–å›žæ¥ï¼Œå……ç”µç«™è¿˜åœ¨åŽŸä½
- âœ… æŽ§åˆ¶å°æ˜¾ç¤º"è¿”å›ž XX ä¸ªå……ç”µç«™æ•°æ®ï¼ˆè¾¹ç•Œè¿‡æ»¤ï¼‰"

### 6. ç­‰å¾…æ›´æ–°

**5ç§’åŽ**ï¼š
```
æŽ¨é€ XX ä¸ªå……ç”µç«™çš„æ•°é‡æ›´æ–°
```
- éƒ¨åˆ†å……ç”µç«™çš„ç©ºé—²æ¡©æ•°å˜åŒ–ï¼ˆÂ±0-3ä¸ªï¼‰
- æ ‡è®°é¢œè‰²å¯èƒ½å˜åŒ–ï¼ˆå¦‚æžœç©ºé—²çŽ‡è·¨è¶Šé˜ˆå€¼ï¼‰
- å˜åŒ–å¹³æ»‘ï¼ˆ0.5sè¿‡æ¸¡åŠ¨ç”»ï¼‰

**1å°æ—¶åŽ**ï¼š
```
ä»·æ ¼å·²æ ¹æ®æ—¶æ®µæ›´æ–°
```
- æ‰€æœ‰å……ç”µç«™ä»·æ ¼æ ¹æ®æ—¶æ®µè°ƒæ•´
- æ ‡è®°ä¸Šçš„ä»·æ ¼æ–‡å­—æ›´æ–°

---

## ðŸ“Š æ•°æ®ä¸€è‡´æ€§

### ä¿è¯æŽªæ–½

1. **å•ä¾‹æ•°æ®æº**
   ```javascript
   const HEFEI_STATIONS = generateHefeiStations() // åªç”Ÿæˆä¸€æ¬¡
   ```

2. **å¼•ç”¨ä¼ é€’**
   ```javascript
   // æ‰€æœ‰APIè¿”å›žçš„éƒ½æ˜¯åŒä¸€ä¸ªæ•°ç»„çš„å¼•ç”¨æˆ–è¿‡æ»¤ç»“æžœ
   mockStationData.stations = HEFEI_STATIONS
   ```

3. **åŽŸåœ°æ›´æ–°**
   ```javascript
   // æ›´æ–°æ—¶ç›´æŽ¥ä¿®æ”¹å¯¹è±¡å±žæ€§ï¼Œä¸åˆ›å»ºæ–°å¯¹è±¡
   station.availableCount = newValue
   station.pricePerKWh = newPrice
   ```

4. **æ—¶é—´æˆ³è®°å½•**
   ```javascript
   // è®°å½•æ¯ä¸ªå……ç”µç«™çš„ä¸Šæ¬¡æ›´æ–°æ—¶é—´ï¼Œé¿å…é‡å¤æ›´æ–°
   station._lastAvailableUpdate = Date.now()
   station._lastPriceUpdate = Date.now()
   ```

---

## ðŸŽ® ç”¨æˆ·ä½“éªŒ

### æ­£å¸¸åœºæ™¯

```
ç”¨æˆ·æ‰“å¼€åº”ç”¨
    â†“
çœ‹åˆ°åˆè‚¥å¸‚2000ä¸ªå›ºå®šå……ç”µç«™
    â†“
æ ‡è®°ç¨³å®šæ˜¾ç¤ºï¼Œä½ç½®ä¸è·³åŠ¨
    â†“
ç¼©æ”¾åœ°å›¾ â†’ æ ‡è®°ä½ç½®ä¸å˜
æ‹–åŠ¨åœ°å›¾ â†’ æ ‡è®°ç¨³å®šï¼Œåªæ˜¯è¿‡æ»¤æ˜¾ç¤º
    â†“
5ç§’åŽ â†’ å°‘æ•°å……ç”µç«™ç©ºé—²æ•°å˜åŒ–
10-15åˆ†é’Ÿ â†’ éƒ¨åˆ†å……ç”µç«™ç©ºé—²æ•°å˜åŒ–
1å°æ—¶ â†’ ä»·æ ¼æ ¹æ®æ—¶æ®µå˜åŒ–
```

### å¼‚å¸¸åœºæ™¯

**å¦‚æžœç”¨æˆ·ä¸åœ¨åˆè‚¥**ï¼š
- å®šä½åˆ°åŒ—äº¬ â†’ åœ°å›¾ç§»åŠ¨åˆ°åŒ—äº¬
- ä½†æ•°æ®åªæœ‰åˆè‚¥ â†’ çœ‹ä¸åˆ°å……ç”µç«™
- è§£å†³æ–¹æ¡ˆï¼šæ‹–åŠ¨åœ°å›¾åˆ°åˆè‚¥ï¼Œæˆ–ç­‰å¾…åŽç»­æ·»åŠ å…¶ä»–åŸŽå¸‚æ•°æ®

---

## ðŸ”§ åŽç»­æ‰©å±•

### æ·»åŠ å…¶ä»–åŸŽå¸‚æ•°æ®

å¦‚éœ€æ”¯æŒå…¶ä»–åŸŽå¸‚ï¼Œåªéœ€ä¿®æ”¹ï¼š

```javascript
// src/api/mock/station-mock.js

const ALL_STATIONS = [
  ...generateHefeiStations(),      // åˆè‚¥2000ä¸ª
  ...generateBeijingStations(),    // åŒ—äº¬2000ä¸ª
  ...generateShanghaiStations(),   // ä¸Šæµ·2000ä¸ª
  // ...
]
```

### çœŸå®žæ•°æ®å¯¹æŽ¥

å½“å¯¹æŽ¥çœŸå®žåŽç«¯æ—¶ï¼š

```javascript
// .env
VITE_USE_MOCK=false
```

çœŸå®žAPIåº”è¯¥è¿”å›žåŒæ ·çš„æ•°æ®ç»“æž„ï¼Œä½†æ•°æ®æ¥è‡ªæ•°æ®åº“è€ŒéžMockç”Ÿæˆã€‚

---

## ðŸ“š ç›¸å…³æ–‡ä»¶

| æ–‡ä»¶ | è¯´æ˜Ž |
|------|------|
| `src/api/mock/station-mock.js` | é™æ€æ•°æ®ç”Ÿæˆå’Œæ›´æ–°é€»è¾‘ |
| `src/api/station.js` | APIè°ƒç”¨ï¼ˆè¿‡æ»¤è€Œéžç”Ÿæˆï¼‰ |
| `src/services/websocket.js` | å®šæ—¶æŽ¨é€æ›´æ–° |
| `src/views/MapView.vue` | ç›‘å¬æ›´æ–°äº‹ä»¶ |
| `src/stores/station.js` | çŠ¶æ€ç®¡ç†å’Œæ›´æ–° |

---

## ðŸŽ¯ æ€»ç»“

### æ ¸å¿ƒæ”¹è¿›

| æ–¹é¢ | æ—§æ–¹æ¡ˆ | æ–°æ–¹æ¡ˆ |
|------|-------|--------|
| æ•°æ®ç”Ÿæˆ | æ¯æ¬¡è¯·æ±‚ç”Ÿæˆ | å¯åŠ¨æ—¶ç”Ÿæˆä¸€æ¬¡ |
| ä½ç½®ç¨³å®šæ€§ | éšæœºè·³åŠ¨ | å®Œå…¨å›ºå®š |
| ç¼©æ”¾è¡Œä¸º | é‡æ–°ç”Ÿæˆ | ä»…è¿‡æ»¤æ˜¾ç¤º |
| æ›´æ–°é¢‘çŽ‡ | 5-10ç§’ | 10-15åˆ†é’Ÿ |
| ä»·æ ¼å˜åŒ– | å›ºå®š | æ¯å°æ—¶æ ¹æ®æ—¶æ®µ |
| çœŸå®žæ€§ | ä½Ž | é«˜ |

### ç¬¦åˆå®žé™…

âœ… å……ç”µæ¡©æ˜¯å›ºå®šè®¾æ–½ï¼Œä½ç½®ä¸ä¼šå˜  
âœ… ç©ºé—²æ¡©æ•°éšä½¿ç”¨æƒ…å†µå˜åŒ–  
âœ… ä»·æ ¼å®žè¡Œå³°è°·ç”µä»·ï¼Œåˆ†æ—¶æ®µ  
âœ… æ›´æ–°é¢‘çŽ‡åˆç†ï¼Œç¬¦åˆå®žé™…ä¸šåŠ¡  

---

**æ–‡æ¡£ç‰ˆæœ¬**: v3.0.0  
**æ›´æ–°æ—¶é—´**: 2024-10-17  
**çŠ¶æ€**: âœ… å®Œæˆ

